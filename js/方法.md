# 方法

## (5).add(3).minus(2)=6

```js
// 令(5).add(3).minus(2)=6
~ function(){
    function check(n){
        n=Number(n);
        return isNaN(n)?0:n;
    }
    function add(n){
        n=check(n);
        return this+n;
    }
    function minus(n){
        n=check(n)
        return this-n;
    }

    Number.protype.add=add;
    Number.protype.minus=minus;
    // 等同于
    ['add','minus'].forEach(item=>{
        Number.protype[item]=eval(item)
    })
}
```

## 大小写取反

```js
let str='aBcDeFg';
str=str.replace(/[a-zA-Z/g,content=>{
// content每次匹配的结果
// 验证是否为大写字母
    // 把转为大写后跟原来一样，说明之前是大写
    // 用ascll取值判断（65-90）
return content.toUpperCase==content?content.toLowerCase:content.toUpperCase();
})
console.log(str)// AbCdEfG;
```

## 返回某个字符串所在位置
循环原始字符串中的每一项，让每一项从当前位置向后截取T.length个字符，然后和t进行比较，不一样就继续；
```js
~ function (){
    function myIndexOf(T){
//this=>s
        let lenT=T.length,
        lenS=S.length,
        res=-1;
        if(lenT>lenS)
        for(let i=0;i<lenS-lenT+1;i++){
            if(this.substr(i,lenT)==T){
                res=i;
                break;
            }
        }
        return res;
    }
    // 正则
    function(T){
        let reg=new RegExp(T);
        reg= reg.exec(this);
        return res=null?-1:res.index;
    }
    String.protype.myIndexOf=myIndexOf;
}()

let S='chenyating'
T='ting'
console.log(S.myIndexOf(T))
```

## 图片懒加载
1. 把需要加载的图片用一个盒子包起来，这是狂傲和默认站位图；
2. 开始让所有img的src为空，把真实图片的地址放到img的自定义属性上；
3. 等到所有其他资源加载结束，再开始加载图片
4. 对于很多图片，需要当页面滚动的时候，当前图片区域完全显示出来；

## 正向预查
```js
var reg=/haha(?=heihei)/
var str="hahaheihei"
alert(reg.exec(str)
```

### 写一个正则，6-1位包含大小写字母和数字
```js
let reg=/^(?![a-z]+)(?![A-Z]+)(?![0-9]+)[a-zA-Z0-9]{6-16}$/
```

## 写一个属性选择器
```js
let ary=$attr('id','AA');//获取属性为id值为“AA”的标签

function $attr(property,value){
    let elements=document.getElementByTagName("*");
    var arr=[];
    elements=Array.from(elements);//转为数组
    element.forEach(item=>{
        let itemValue=item.getAttribute(property);
        if(itemValue==value){
            arr.push(item);
        }
    })
    return arr;
}



```